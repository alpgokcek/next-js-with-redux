{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport axios from 'axios';\nimport fetch from 'isomorphic-fetch';\nimport { API_URL, GET_COMMENTS } from '../../../constants';\n/*\nexport const getComments = () => async dispatch => {\n  const posts = axios.get(  `${API_URL}/comments`).then(async (response) => {\n    console.log(response.data);\n    return await response.data.json();\n  }).then(data=>data).catch(e=>{\n    console.error(e);\n    return {error: e}\n  });\n\n  dispatch({\n    type: GET_COMMENTS,\n    payload: posts\n  });\n};\n */\n\nexport var getComments = function getComments() {\n  return function _callee(dispatch) {\n    var commentsFetch, comments;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"\".concat(API_URL, \"/comments\")));\n\n          case 2:\n            commentsFetch = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(commentsFetch.json());\n\n          case 5:\n            comments = _context.sent;\n            dispatch({\n              type: GET_COMMENTS,\n              payload: comments\n            });\n            return _context.abrupt(\"return\", comments);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/alpgokcek/Desktop/next-js-poc/store/actions/comments/index.js"],"names":["axios","fetch","API_URL","GET_COMMENTS","getComments","dispatch","commentsFetch","json","comments","type","payload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,OAAT,EAAkBC,YAAlB,QAAsC,oBAAtC;AACA;;;;;;;;;;;;;;;;;AAgBA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACHJ,KAAK,WAAIC,OAAJ,eADF;;AAAA;AACzBI,YAAAA,aADyB;AAAA;AAAA,6CAERA,aAAa,CAACC,IAAd,EAFQ;;AAAA;AAEzBC,YAAAA,QAFyB;AAG/BH,YAAAA,QAAQ,CAAC;AACPI,cAAAA,IAAI,EAAEN,YADC;AAEPO,cAAAA,OAAO,EAAEF;AAFF,aAAD,CAAR;AAH+B,6CAOxBA,QAPwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAApB","sourcesContent":["import axios from 'axios';\nimport fetch from 'isomorphic-fetch'\nimport { API_URL, GET_COMMENTS } from '../../../constants';\n/*\nexport const getComments = () => async dispatch => {\n  const posts = axios.get(  `${API_URL}/comments`).then(async (response) => {\n    console.log(response.data);\n    return await response.data.json();\n  }).then(data=>data).catch(e=>{\n    console.error(e);\n    return {error: e}\n  });\n\n  dispatch({\n    type: GET_COMMENTS,\n    payload: posts\n  });\n};\n */\nexport const getComments = () => async dispatch => {\n  const commentsFetch = await fetch(`${API_URL}/comments`)\n  const comments = await commentsFetch.json();\n  dispatch({\n    type: GET_COMMENTS,\n    payload: comments\n  })\n  return comments;\n}\n"]},"metadata":{},"sourceType":"module"}